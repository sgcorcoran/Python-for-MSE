
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>6. Selecting pixel coordinates from an image file &#8212; Python for MSE</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Estimating Data Values from Plots in the Literature (Part 1)" href="07_digitizing_literature_plots_part_1.html" />
    <link rel="prev" title="5. matplotlib - Advanced Layouts" href="05_closer_look_at_matplotlib.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint">Virginia Tech MSE 3114 Fall 2022</div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/Horizontal_VT_Full_Color_RGB.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Python for MSE</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to MSE 3114 Math Programming for Materials Science and Engineering II
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  MSE 2114 Python for MSE I
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../lessons_2114/1_getting_started.html">
   1. Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lessons_2114/2_Intro_Jupyter.html">
   2. Intro to the Jupyter Notebook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lessons_2114/3_working_with_data.html">
   3. Working with Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../lessons_2114/4_temp.html">
   4. 2114 … under development
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  MSE 3114 Python for MSE II
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01_welcome_to_3114.html">
   1. Welcome to MSE 3114
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_importing_your_own_functions.html">
   2. Importing Data from Files &amp; Importing Your Own Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_google_forms_and_pandas.html">
   3. Google Forms and Pandas Data Import and Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_closer_look_at_pandas.html">
   4. Pandas DataFrames and Data Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_closer_look_at_matplotlib.html">
   5. matplotlib - Advanced Layouts
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   6. Selecting pixel coordinates from an image file
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_digitizing_literature_plots_part_1.html">
   7. Estimating Data Values from Plots in the Literature (Part 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_digitizing_literature_plots_part_2.html">
   8. Estimating Data Values from Plots in the Literature (Part 2)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_applications.html">
   9. Application:  Crystallization Kinetics of Amorphous
   <span class="math notranslate nohighlight">
    \(TiO_2\)
   </span>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_peak_deconvolution.html">
   10. Application: Peak Deconvolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_creep_analysis_log_scales.html">
   11. Collecting Data from Log scales: Creep Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12_grain_size_measurement.html">
   12. Image Analysis: Grain Size Measurement
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13_Analyzing_Particles_in_a_Matrix.html">
   13. Analyzing Particles in a Matrix
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="50_course_support_files.html">
   1. MSE 3114 Data Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="51_LinkedIn_Learning_Recommendations.html">
   2. LinkedIn Learning Recommendations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="52_time_saving_tips.html">
   3. Time Saving Tips &amp; Tricks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="53_updates.html">
   4. Updates &amp; FAQ
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/sgcorcoran/Python-for-MSE/main?urlpath=tree/lessons_3114/06_selecting_pixel_coordinates.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/lessons_3114/06_selecting_pixel_coordinates.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-and-display-our-image">
   6.1. Load and Display our image
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selecting-data-from-our-image">
   6.2. Selecting data from our image
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-the-area">
   6.3. Calculate the area
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#putting-it-all-together">
   6.4. Putting it all together
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   6.5. Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-1">
     6.5.1. Problem 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-2">
     6.5.2. Problem 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-3">
     6.5.3. Problem 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-4">
     6.5.4. Problem 4
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-5">
     6.5.5. Problem 5
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-6">
     6.5.6. Problem 6
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-7">
     6.5.7. Problem 7
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-8">
     6.5.8. Problem 8
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-9">
     6.5.9. Problem 9
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Selecting pixel coordinates from an image file</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-and-display-our-image">
   6.1. Load and Display our image
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#selecting-data-from-our-image">
   6.2. Selecting data from our image
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculate-the-area">
   6.3. Calculate the area
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#putting-it-all-together">
   6.4. Putting it all together
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   6.5. Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-1">
     6.5.1. Problem 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-2">
     6.5.2. Problem 2
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-3">
     6.5.3. Problem 3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-4">
     6.5.4. Problem 4
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-5">
     6.5.5. Problem 5
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-6">
     6.5.6. Problem 6
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-7">
     6.5.7. Problem 7
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-8">
     6.5.8. Problem 8
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#problem-9">
     6.5.9. Problem 9
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="selecting-pixel-coordinates-from-an-image-file">
<h1><span class="section-number">6. </span>Selecting pixel coordinates from an image file<a class="headerlink" href="#selecting-pixel-coordinates-from-an-image-file" title="Permalink to this headline">#</a></h1>
<div class="admonition-learning-objectives admonition">
<p class="admonition-title">Learning Objectives  </p>
<p>After completing this lesson, you should be able to:</p>
<ol class="simple">
<li><p>install a matplotlib extension for jupyterlab</p></li>
<li><p>open an image file into an interactive widget e.g. google map screen capture</p></li>
<li><p>select points on the image using your mouse, recording their locations</p></li>
<li><p>determine the scale to transform the pixel coordinates to real space coordinates</p></li>
<li><p>use these calibrated points to make geometric calculations e.g. distance, angle, area, and perimeter.</p></li>
</ol>
</div>
<p><em>This is the first step in being able to reproduce and extract data from plots in the literature. Next week we will begin pulling data from publications, reanalyzing and then examing the validity of the author’s conclusions.  In Senior Design, you may want to do something like this to directly plot data you collect along with data found in the literature for comparison.</em></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>For this lesson, you will need to install a matplotlib extension to allow for interactive plots with jupyter lab. Open your powershell prompt from the Anaconda Navigator menu, type and execute the following:  <strong>conda install -c conda-forge ipympl</strong></p>
<p>It may give you a message that Anaconda is being downgraded.  That is okay, type “yes” to proceed.  <em>Then after it is finished make sure you close down jupyterlab and restart it.</em></p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">imageio</span> <span class="k">as</span> <span class="nn">iio</span>
<span class="kn">import</span> <span class="nn">io</span>
</pre></div>
</div>
</div>
</div>
<section id="load-and-display-our-image">
<h2><span class="section-number">6.1. </span>Load and Display our image<a class="headerlink" href="#load-and-display-our-image" title="Permalink to this headline">#</a></h2>
<p>The image below was a screen capture from google maps showing property lines for various tax parcels.  We would like to know the total acreage of this property.  We display an image by using <code class="docutils literal notranslate"><span class="pre">.subplots()</span></code> to create the figure and axes frame as we have done before but now we read an image <code class="docutils literal notranslate"><span class="pre">.imshow()</span></code> into the axes rather than plotting a set of data. Click on the image below to download so you can reproduce the code below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the following line gives an interactive plot; default is %matplotlib inline</span>
<span class="o">%</span><span class="k">matplotlib</span> widget

<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">img</span><span class="o">=</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/3114_06_smith_creek.png&#39;</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">imgsize</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span>  <span class="c1">#will use this below contains (ypixels, xpixels, colordepth)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "6b60a0ca8bdc4e4291f3d7044b7f2ce3", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<a class="reference internal image-reference" href="../_images/3114_06_smith_creek.png"><img alt="../_images/3114_06_smith_creek.png" class="align-center" src="../_images/3114_06_smith_creek.png" style="height: 500px;" /></a>
<p>If you execute the code above in your own notebook and move your mouse around on the image, you will see the pixel coordinates for that location displayed at the bottom of the figure. The values in the brackets are the color code and opacity.  We won’t need these.  One of the things to notice is that when an image is read, the data is plotted from the top left corner, across the row, and then down to the next row.  When dealing with coordinates for plots, we expect the origin to be located in the bottom-left corner so we will need to correct this next week when we read an image file of a data plot.</p>
</section>
<section id="selecting-data-from-our-image">
<h2><span class="section-number">6.2. </span>Selecting data from our image<a class="headerlink" href="#selecting-data-from-our-image" title="Permalink to this headline">#</a></h2>
<p>The following code will make the above plot interactive.  There are several “events” that matplotlib can “listen” for.  The one we use below is a simple mouse click event.  When the cursor is moved on to the image and the mouse is left-clicked, the coordinate for the cursor location is stored into a variable we defined below called “pos” (short for position).  We also add a title to the plot with the location of the cursor for the last click event.  This is the only event type we will use in this class so don’t worry about the code below just store it somewhere handy such as your cheatsheet for later use.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#below all part of matplotlib -- remember for this to work we should have already run: %matplotlib widget</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">onclick</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">pos</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="p">])</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Last click: [</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>
<span class="n">cid</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span> <span class="n">onclick</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<p>After running the above code, it might look like nothing happened.  Scroll back up to the image plotted previously, and use the mouse to click somewhere.  You should now see a title show up showing you the location of your click (as shown in the figure below).  Now continue clicking a few points on the image.  After this we can take a look at the points stored in the variable “pos.”</p>
<a class="reference internal image-reference" href="../_images/smith_creek_2.png"><img alt="../_images/smith_creek_2.png" class="align-center" src="../_images/smith_creek_2.png" style="height: 500px;" /></a>
<p>Now start over, re-executing the previous cells to make a new interactive plot so we can include calibration points for the image scale bar. Let’s reclick on all your boundary points and then when finished with these click on the two ends of the scale bar.  This way we can just pull the last two points off of our “pos” values for the calibration.  We also should turn our list into a numpy array to make indexing easier when performing calculations.  The first point that we select is going to become a common vertice as we break our polygon into triangles so choose wisely.  Also the boundary points need to be chosen in order as you “walk” around the boundary.</p>
<p>The points that I chose are shown below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>  

<span class="p">[[</span><span class="mf">97.53271352771536</span><span class="p">,</span> <span class="mf">716.9389926874768</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">31.26412199934971</span><span class="p">,</span> <span class="mf">90.22745566207607</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">192.20212999680916</span><span class="p">,</span> <span class="mf">37.212582439383596</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">387.2211279231423</span><span class="p">,</span> <span class="mf">65.61340738011177</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">633.3616107427861</span><span class="p">,</span> <span class="mf">59.93324239196613</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">705.3103672592973</span><span class="p">,</span> <span class="mf">292.8200069059368</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">873.8219285742842</span><span class="p">,</span> <span class="mf">484.05222817350614</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">915.4764718206854</span><span class="p">,</span> <span class="mf">514.3464414436162</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">1042.333489889271</span><span class="p">,</span> <span class="mf">826.7555157916255</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">1106.708693088255</span><span class="p">,</span> <span class="mf">828.6489041210074</span><span class="p">]]</span>
</pre></div>
</div>
<p>… and plotted on top of our previous image.  I’ve also numbered the points in the order that I selected them.  The last two points are on the ends of the scale bar and shown in red.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># take all points except last 2</span>
<span class="n">calibration_bar_ends</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="c1"># take only last 2 points</span>
<span class="n">calibration_bar_length</span><span class="o">=</span><span class="mi">100</span> <span class="c1">#feet</span>
<span class="n">scale</span><span class="o">=</span><span class="n">calibration_bar_length</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>  <span class="c1">#feet/pixel</span>

<span class="c1">#plt.close(fig=&#39;all&#39;)</span>
<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pts</span><span class="p">,[</span><span class="n">pts</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># making a copy of the first point and adding to our list to close our polygon when plotting</span>
<span class="n">vert_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">tri_data</span><span class="o">=</span><span class="p">[</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">vert_pos</span><span class="p">]</span>

<span class="n">fig1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">img</span><span class="o">=</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/3114_06_smith_creek.png&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span> 
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ko-&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">calibration_bar_ends</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">calibration_bar_ends</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">*</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">30</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span> <span class="n">backgroundcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">*</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)]</span><span class="o">+</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">30</span><span class="p">),</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">,</span> <span class="n">backgroundcolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
<span class="c1">#[ax2.plot(tri_data[i][:,0], tri_data[i][:,1], &#39;-&#39;) for i in np.arange(len(tri_data))]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/06_selecting_pixel_coordinates_20_0.png" src="../_images/06_selecting_pixel_coordinates_20_0.png" />
</div>
</div>
</section>
<section id="calculate-the-area">
<h2><span class="section-number">6.3. </span>Calculate the area<a class="headerlink" href="#calculate-the-area" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># take all points except last 2</span>
<span class="n">calibration_bar_ends</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="c1"># take only last 2 points</span>
<span class="n">calibration_bar_length</span><span class="o">=</span><span class="mi">100</span> <span class="c1">#feet</span>
<span class="n">scale</span><span class="o">=</span><span class="n">calibration_bar_length</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>  <span class="c1">#feet/pixel</span>

<span class="c1">#plt.close(fig=&#39;all&#39;)</span>
<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pts</span><span class="p">,[</span><span class="n">pts</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># making a copy of the first point and adding to our list to close our polygon when plotting</span>
<span class="n">vert_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">tri_data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">vert_pos</span><span class="p">])</span>
<span class="n">fig1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">img</span><span class="o">=</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/3114_06_smith_creek.png&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span> 
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ko-&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">*</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tri_data</span><span class="p">[</span><span class="n">i</span><span class="p">,:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tri_data</span><span class="p">[</span><span class="n">i</span><span class="p">,:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tri_data</span><span class="p">))]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/06_selecting_pixel_coordinates_22_0.png" src="../_images/06_selecting_pixel_coordinates_22_0.png" />
</div>
</div>
<p>Area of a triangle given the <span class="math notranslate nohighlight">\(\left(x,y\right)\)</span> coordinates of the vertices <span class="math notranslate nohighlight">\(A,B,C\)</span> =</p>
<div class="math notranslate nohighlight">
\[\frac{Ax(By - Cy) + Bx(Cy - Ay) + Cx(Ay - By)}{2} \]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tri_area</span><span class="p">(</span><span class="n">vertice_list</span><span class="p">):</span> <span class="c1">#list of 3 vertices</span>
    <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">y</span><span class="p">]</span><span class="o">-</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">C</span><span class="p">,</span><span class="n">y</span><span class="p">])</span><span class="o">+</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">C</span><span class="p">,</span><span class="n">y</span><span class="p">]</span><span class="o">-</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">y</span><span class="p">])</span><span class="o">+</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">C</span><span class="p">,</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">A</span><span class="p">,</span><span class="n">y</span><span class="p">]</span><span class="o">-</span><span class="n">vertice_list</span><span class="p">[</span><span class="n">B</span><span class="p">,</span><span class="n">y</span><span class="p">])))</span><span class="o">/</span><span class="mi">2</span>

<span class="n">area</span><span class="o">=</span><span class="mi">0</span>
<span class="n">area</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">tri_area</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tri_data</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The area is approximately </span><span class="si">{</span><span class="n">area</span><span class="o">*</span><span class="n">scale</span><span class="o">**</span><span class="mi">2</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> square feet&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The area is approximately </span><span class="si">{</span><span class="n">area</span><span class="o">*</span><span class="n">scale</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mi">43560</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1"> acres&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The area is approximately 954676 square feet
The area is approximately 21.9 acres
</pre></div>
</div>
</div>
</div>
<p>In a similar way, you could manipulate the data to calculate the perimeter of the bounded property, the length of a edge, or the angle formed between two edges, etc.</p>
</section>
<section id="putting-it-all-together">
<h2><span class="section-number">6.4. </span>Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">#</a></h2>
<p>Let’s calculate the total acreage north of the creek running through this property.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> widget

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">img</span><span class="o">=</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/3114_06_smith_creek.png&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">imgsize</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span>  <span class="c1">#will use this below contains (ypixels, xpixels, colordepth)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="c1">#below all part of matplotlib -- remember for this to work we should have already run: %matplotlib widget</span>
<span class="n">pos</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">onclick</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">pos</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="p">])</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Last click: [</span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">]&#39;</span><span class="p">)</span>
<span class="n">cid</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s1">&#39;button_press_event&#39;</span><span class="p">,</span> <span class="n">onclick</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "6d2f42abc3e842ff905fa7d6ce914619", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<a class="reference internal image-reference" href="../_images/smith_creek_1.png"><img alt="../_images/smith_creek_1.png" class="align-center" src="../_images/smith_creek_1.png" style="height: 500px;" /></a>
<p>cursor points that I used</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">29.630662779471038</span><span class="p">,</span> <span class="mf">88.75061150009503</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">168.4974442950987</span><span class="p">,</span> <span class="mf">40.918720089156636</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">299.6494046154137</span><span class="p">,</span> <span class="mf">51.71946976259437</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">631.3867160138575</span><span class="p">,</span> <span class="mf">57.891326718844425</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">657.6171080779206</span><span class="p">,</span> <span class="mf">147.38325258447117</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">531.094040474793</span><span class="p">,</span> <span class="mf">153.55510954072133</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">369.08279537322755</span><span class="p">,</span> <span class="mf">187.5003228000969</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">187.01301516384905</span><span class="p">,</span> <span class="mf">267.7344632313485</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">57.40401908259656</span><span class="p">,</span> <span class="mf">329.45303279384973</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">1041.8152036044905</span><span class="p">,</span> <span class="mf">823.2015892938593</span><span class="p">],</span>
 <span class="p">[</span><span class="mf">1106.6197016451167</span><span class="p">,</span> <span class="mf">824.7445535329218</span><span class="p">]]</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># take all points except last 2</span>
<span class="n">calibration_bar_ends</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="c1"># take only last 2 points</span>
<span class="n">calibration_bar_length</span><span class="o">=</span><span class="mi">100</span> <span class="c1">#feet</span>
<span class="n">scale</span><span class="o">=</span><span class="n">calibration_bar_length</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>  <span class="c1">#feet/pixel</span>

<span class="c1">#plt.close(fig=&#39;all&#39;)</span>
<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pts</span><span class="p">,[</span><span class="n">pts</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># making a copy of the first point and adding to our list to close our polygon when plotting</span>
<span class="n">vert_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">tri_data</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">vert_pos</span><span class="p">])</span>
<span class="n">fig1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">img</span><span class="o">=</span><span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/3114_06_smith_creek.png&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span> 
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">pts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;ko-&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">*</span><span class="n">pts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
<span class="p">[</span><span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tri_data</span><span class="p">[</span><span class="n">i</span><span class="p">,:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">tri_data</span><span class="p">[</span><span class="n">i</span><span class="p">,:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tri_data</span><span class="p">))]</span>
<span class="n">area</span><span class="o">=</span><span class="mi">0</span>
<span class="n">area</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">tri_area</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tri_data</span><span class="p">])</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The area north of the creek is approximately </span><span class="si">{</span><span class="n">area</span><span class="o">*</span><span class="n">scale</span><span class="o">**</span><span class="mi">2</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1"> square feet or </span><span class="si">{</span><span class="n">area</span><span class="o">*</span><span class="n">scale</span><span class="o">**</span><span class="mi">2</span><span class="o">/</span><span class="mi">43560</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1"> acres&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/06_selecting_pixel_coordinates_32_0.png" src="../_images/06_selecting_pixel_coordinates_32_0.png" />
</div>
</div>
</section>
<section id="exercises">
<h2><span class="section-number">6.5. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h2>
<section id="problem-1">
<h3><span class="section-number">6.5.1. </span>Problem 1<a class="headerlink" href="#problem-1" title="Permalink to this headline">#</a></h3>
<p>Write a function that will take a list of points along a path and will return the total path distance by summing up the distances between each point. Note: this function should work to give the distance between just two points.</p>
</section>
<section id="problem-2">
<h3><span class="section-number">6.5.2. </span>Problem 2<a class="headerlink" href="#problem-2" title="Permalink to this headline">#</a></h3>
<p>Look up the google map view of the “Five hundred meter Aperture Spherical Telescope” in China.<br />
(a) Assuming the dish is circular, choose three well spaced points along the perimeter (forming a triangle).  Then find the equation for the circumscribed circle of this triangle. Use the equation for the circle to calculate the total area of this structure.<br />
(b) Select at least 40 well spaced points along the circumference of this structure. Break this polygon up into triangles (as in the lesson) and estimate the total area by summing the area for each triangle.  Compare your results with part (a).</p>
</section>
<section id="problem-3">
<h3><span class="section-number">6.5.3. </span>Problem 3<a class="headerlink" href="#problem-3" title="Permalink to this headline">#</a></h3>
<p>(a) Take a screen capture of the Sea of Galilee, the Dead Sea, or Lake Ontario using Google maps.  Make sure you also include the scale bar with the image.<br />
(b) Using at least 40 points evenly spaced around the perimeter, calculate the total surface area of the body of water you chose.<br />
(c) Find the average width of your body of water by selecting two points that you think best estimate the width and calculating the distance between these points.</p>
</section>
<section id="problem-4">
<h3><span class="section-number">6.5.4. </span>Problem 4<a class="headerlink" href="#problem-4" title="Permalink to this headline">#</a></h3>
<p>(a) Take a screen shot using google maps of Stonehenge, UK.<br />
(b) Approximating stonehenge as a circle, choose three well spaced points along the circumference (forming a triangle).  Find the equation for the circumscribed circle of this triangle. Use the equation for the circle to calculate the total area of this structure.<br />
(c) Select at least 20 well spaced points along the circumference of this structure. Break this polygon up into triangles (as in the lesson) and estimate the total area by summing the area for each triangle.  Compare the results to part (b).<br />
(d) Pick one of the stones and determine the stone thickness by selecting two points that you think best estimate the thickness and calculating the distance between these points.</p>
</section>
<section id="problem-5">
<h3><span class="section-number">6.5.5. </span>Problem 5<a class="headerlink" href="#problem-5" title="Permalink to this headline">#</a></h3>
<p>(a) Find the total surface area of pandapas pond, Virginia. Plot the points you chose on top of a google map screen capture (as in the lesson).<br />
(b) There is also a walking path around the perimeter of the pond.  Find the total walking path length. Again, plot the points with the map to show which points you chose.</p>
</section>
<section id="problem-6">
<h3><span class="section-number">6.5.6. </span>Problem 6<a class="headerlink" href="#problem-6" title="Permalink to this headline">#</a></h3>
<p>(a) Take a screenshot of the Virginia Tech campus using google maps.  Determine the area of the drill field.<br />
(b) Calculate the shortest distance that one must walk to get from Holden Hall to the Duck Pond.  Make sure you have enough resolution in your map image to follow only walking paths.  No cutting through lawns or cutting through buildings.  The tunnel through Burruss is fair game if that helps. Plot the points you chose with the map.</p>
</section>
<section id="problem-7">
<h3><span class="section-number">6.5.7. </span>Problem 7<a class="headerlink" href="#problem-7" title="Permalink to this headline">#</a></h3>
<p>(a) Using a screenshot in google maps of the pentagon.  Determine the total area including the green space in the center.<br />
(b) Find the distance from the center of one of the pentagon’s sides to the opposite vertex i.e. the height of the pentagon. To do this, use only the values you have for the 5 vertices i.e. no guessing where the center of a side is located.</p>
</section>
<section id="problem-8">
<h3><span class="section-number">6.5.8. </span>Problem 8<a class="headerlink" href="#problem-8" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I come across code in the lesson that looks confusing such as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vert_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">tri_data</span><span class="o">=</span><span class="p">[</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">vert_pos</span><span class="p">]</span>
</pre></div>
</div>
<p>Parts (b) through (e) below are examples of how I might simplify the above code and increase the complexity step by step until I understand what each part of <code class="docutils literal notranslate"><span class="pre">[[0,i+1,i+2]</span> <span class="pre">for</span> <span class="pre">i</span> <span class="pre">in</span> <span class="pre">np.arange(len(pts)-3)]</span></code> means.  This is how you want to stop and read the text in the lessons.</p>
</div>
<p>Using scratch paper, a pen, and <strong>your brain (no python!)</strong>, write out the output for the following:<br />
(a) for loop</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">var1</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]:</span>
    <span class="n">var1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">var1</span>
</pre></div>
</div>
<p>(b) list comprehension</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">var1</span><span class="o">=</span><span class="p">[</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="n">var1</span>
</pre></div>
</div>
<p>(c)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">var1</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
<span class="n">var1</span>
</pre></div>
</div>
<p>(d)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">var1</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">var1</span>
</pre></div>
</div>
<p>(e) Using the answer for part (d) and given <code class="docutils literal notranslate"><span class="pre">pts=[[1,</span> <span class="pre">1],[2,</span> <span class="pre">2],[3,</span> <span class="pre">3],[4,</span> <span class="pre">4],[5,5]]</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">var1</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="problem-9">
<h3><span class="section-number">6.5.9. </span>Problem 9<a class="headerlink" href="#problem-9" title="Permalink to this headline">#</a></h3>
<div class="admonition-how-to-read-this-book admonition">
<p class="admonition-title">How to read this book  </p>
<p>In the problem below, I’m trying to show you how to read and interact with the lessons.  The point of this problem is not to get an answer so you can move on but to test yourself by using as little python as possible to answer the question. Where you get stuck or are unsure, use python to test simple cases but not the exact case.  For example, if I’m not sure what the “-2” will do in the slice <code class="docutils literal notranslate"><span class="pre">pos[0:-2]</span></code>, I could use python to test a simple case:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]]</span> 
<span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>I would also want to try <code class="docutils literal notranslate"><span class="pre">temp[0:-1]</span></code>, <code class="docutils literal notranslate"><span class="pre">temp[0:-3]</span></code> and maybe <code class="docutils literal notranslate"><span class="pre">temp[-2:]</span></code> since this shows up in the code also. Each time, ask yourself what you think the output shoud be before you run it.</p>
</div>
<p>What value does “tri_data” have in the code below when <code class="docutils literal notranslate"><span class="pre">pos=[[29,</span> <span class="pre">88],[168,</span> <span class="pre">40],[299,</span> <span class="pre">51],[631,</span> <span class="pre">57],[1041,</span> <span class="pre">823],[1106,</span> <span class="pre">824]]</span></code>.  You want to be able to do this with pen and paper not using python other than testing simple cases where you are stuck. For your own information: Three lines of code below have no affect on the value of “tri_data” so ignore them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> 
<span class="n">calibration_bar_ends</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> 
<span class="n">calibration_bar_length</span><span class="o">=</span><span class="mi">100</span> <span class="c1">#feet</span>
<span class="n">scale</span><span class="o">=</span><span class="n">calibration_bar_length</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">calibration_bar_ends</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>  

<span class="n">pts</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pts</span><span class="p">,[</span><span class="n">pts</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> 
<span class="n">vert_pos</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">tri_data</span><span class="o">=</span><span class="p">[</span><span class="n">pts</span><span class="p">[</span><span class="n">vertices</span><span class="p">]</span> <span class="k">for</span> <span class="n">vertices</span> <span class="ow">in</span> <span class="n">vert_pos</span><span class="p">]</span>

</pre></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lessons_3114"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="05_closer_look_at_matplotlib.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">5. </span>matplotlib - Advanced Layouts</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="07_digitizing_literature_plots_part_1.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7. </span>Estimating Data Values from Plots in the Literature (Part 1)</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Sean Corcoran<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>